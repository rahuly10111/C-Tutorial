using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Day4_Task2
{
    
    public class Student_details
    {
        private readonly int studentID;
        private readonly string studentName;
        private readonly string studentEmail ;
        private decimal studentGPA { get; set; }

        private readonly int studentRoll;
        private string studentDOB { get; set; }
        private decimal studentCGPA { get; set; }
        private decimal[] GPAarray { get; set; }

        private string name { get; set; }

        static void Main(string[] args)
        {
            Student_details student1 = new Student_details();
            Student_details student2 = new Student_details();
            Student_details student3 = new Student_details();
            Student_details student4 = new Student_details(student3);
            Console.WriteLine(student4.name);

            decimal max3 = Math.Max(student1.studentCGPA, Math.Max(student2.studentCGPA, student3.studentCGPA));

            if (student1.studentCGPA == student2.studentCGPA && student2.studentCGPA == max3)
            {
                Console.WriteLine(student1.studentName + " and " + student2.studentName + " are both CRs!");
            }
            else if (student1.studentCGPA == student3.studentCGPA && student3.studentCGPA == max3)
            {
                Console.WriteLine(student1.studentName + " and " + student3.studentName + " are both CRs!");
            }
            else if (student2.studentCGPA == student3.studentCGPA && student3.studentCGPA == max3)
            {
                Console.WriteLine(student2.studentName + " and " + student3.studentName + " are both CRs!");
            }
            else if (student1.studentCGPA == max3 && student2.studentCGPA == max3 && student3.studentCGPA == max3)
            {
                Console.WriteLine("All three students are CRs!");
            }
            else if (student1.studentCGPA == max3)
            {
                Console.WriteLine(student1.studentName + " is the CR!");
            }
            else if (student2.studentCGPA == max3)
            {
                Console.WriteLine(student2.studentName + " is the CR!");
            }
            else if (student3.studentCGPA == max3)
            {
                Console.WriteLine(student3.studentName + " is the CR!");
            }
            else
            {
                Console.WriteLine("No winner found.");
            }
        }
        public  Student_details()
        {
            Console.WriteLine("Enter Student ID :");
            studentID = Convert.ToInt32(Console.ReadLine());

            Console.WriteLine("Enter Student Name :");
            studentName = Convert.ToString(Console.ReadLine());

            Console.WriteLine("Enter Student Email :");
            studentEmail = Convert.ToString(Console.ReadLine());

            Console.WriteLine("Enter Student Roll.No.");
            studentRoll = Convert.ToInt32(Console.ReadLine());

            GPAarray =  new decimal[5];

            for(int i = 0; i < 5; i++) {

                Console.WriteLine("Enter GPA for " + (i+1) + " Semester");

                var inputCGPA = Console.ReadLine();

                if (!string.IsNullOrEmpty(inputCGPA) && Convert.ToDecimal(inputCGPA) > 3)
                {
                    var studentGPA = Convert.ToDecimal(inputCGPA);
                    GPAarray[i] = studentGPA;
                }
                else
                {
                    decimal studentGPA = 3;
                    GPAarray[i] = studentGPA;
                }
          
            }

            studentCGPA = (decimal)Queryable.Average(GPAarray.AsQueryable());
            Console.WriteLine(studentCGPA);
        }

        public Student_details(Student_details student3)
        {
          var name = student3.studentName;
        }

        public static Student_details operator +(Student_details student1, Student_details student2)
        {
            Student_details result = new Student_details();
            result.GPAarray = student1.GPAarray.Zip(student2.GPAarray, (x, y) => x + y).ToArray();
            result.studentCGPA = (decimal)Queryable.Average(result.GPAarray.AsQueryable());
            return result;
        }



    }


}